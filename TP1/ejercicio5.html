<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Image Data</title>
  </head>
  <body>
    <canvas id="canvas" width="900" height="600" style="border:#000 solid 1px;" />
  </body>
  <script type="text/javascript">
   var ctx = document.getElementById("canvas").getContext("2d");
    var image1 = new Image();
    image1.src = "ubuntu.jpg";
    function myDrawImageMethod(image){
      ctx.drawImage(image,0,0,900,600);
    }


    image1.onload = function(){
    myDrawImageMethod(this);
    imageData = ctx.getImageData(0,0,300,300);
    var x = 0;
    var y = 0;
    var r = 0;
    var g = 0;
    var b = 0;
    for (x=0; x<300; x++){
      for (y=0; y<300; y++){
        setPixel(imageData,x,y,r,g,b,a);
      }
    }
    }
    ctx.putImageData(imageData,100,50);

    function setPixel(imageData, x, y, r, g, b, a){
      index = (x + y * imageData.width) *4;
      imageData.data[index+0] = r;
      imageData.data[index+1] = g;
      imageData.data[index+2] = b;
      imageData.data[index+3] = a;
    }
  </script>
</html>
